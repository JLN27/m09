var map=new ol.Map({target:'map',layers:[new ol.layer.Tile({source:new ol.source.OSM()})],view:new ol.View({center:ol.proj.fromLonLat([1.7280967259979765,41.23137068827359]),zoom:18})});var staticMarker=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([1.7280967259979765,41.23137068827359]))});staticMarker.setStyle(new ol.style.Style({image:new ol.style.Icon({src:'https://openlayers.org/en/latest/examples/data/icon.png'}),text:new ol.style.Text({text:"Ins Joaquim Mir",offsetY:-25,fill:new ol.style.Fill({color:'#000'}),backgroundFill:new ol.style.Fill({color:'#fff'}),padding:[5,5,5,5]})}));var vectorSource=new ol.source.Vector({features:[staticMarker]});var vectorLayer=new ol.layer.Vector({source:vectorSource});map.addLayer(vectorLayer);if("geolocation" in navigator){navigator.geolocation.getCurrentPosition(function(position){var dynamicMarker=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([position.coords.longitude,position.coords.latitude]))});dynamicMarker.setStyle(new ol.style.Style({image:new ol.style.Icon({src:'https://openlayers.org/en/latest/examples/data/icon.png'}),text:new ol.style.Text({text:"Tu ubicación actual",offsetY:-25,fill:new ol.style.Fill({color:'#000'}),backgroundFill:new ol.style.Fill({color:'#fff'}),padding:[5,5,5,5]})}));vectorSource.addFeature(dynamicMarker)})}key('ctrl+d',function(){if("geolocation" in navigator){navigator.geolocation.getCurrentPosition(function(position){var currentCoords=ol.proj.fromLonLat([position.coords.longitude,position.coords.latitude]);var message="Tus coordenadas actuales son:\nLatitud: "+position.coords.latitude+"\nLongitud: "+position.coords.longitude;alert(message)})}else{alert("Geolocalización no está disponible en este navegador.")}});key('ctrl+f',function(){var coordenadasInstituto=ol.proj.fromLonLat([1.7280967259979765,41.23137068827359]);map.getView().setCenter(coordenadasInstituto)});if('SpeechRecognition'in window||'webkitSpeechRecognition'in window){var recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition);recognition.continuous=true;recognition.lang='es-ES';recognition.onresult=function(event){var result=event.results[event.resultIndex];var transcript=result[0].transcript.toLowerCase();if(transcript.includes('baixar')){window.scrollBy(0,100)}else if(transcript.includes('pujar')){window.scrollBy(0,-100)}else if(transcript.includes('ampliar')){document.body.style.zoom='150%'}else if(transcript.includes('reduir')){document.body.style.zoom='75%'}else if(transcript.includes('restaurar tot')){window.scrollTo(0,0);document.body.style.zoom='100%'}};document.getElementById('start-listening').addEventListener('click',function(){recognition.start()})}else{console.log('La reconeixença de veu no és compatible amb aquest navegador.')}function speakText(e){var t=e.innerText;var utterance=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(utterance)}function speakTextWithChildren(e){var t=e.innerText;var n=e.getElementsByTagName('*');for(var i=0;i<n.length;i++){t+=' '+n[i].innerText}var utterance=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(utterance)}function handleClick(e){var t=e.target;if(e.detail===1){speakText(t)}else if(e.detail===2){speakTextWithChildren(t)}}var elements=document.querySelectorAll('[onclick],[ondblclick]');for(var i=0;i<elements.length;i++){elements[i].addEventListener('click',handleClick)}document.addEventListener('keydown',function(e){if(e.ctrlKey&&e.altKey&&e.key==='p'){speakAllText()}});function speakAllText(){var e=document.body.innerText;var t=new SpeechSynthesisUtterance(e);window.speechSynthesis.speak(t)}
